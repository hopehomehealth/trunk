define(function(require,exports,module){var e=require("jquery");require("underscore");var n={init:function(){n.slide()},slide:function(){var n=e(".gallery"),t=n.find(".gallery-item"),a=t.length,r=e(".gallery-nav"),i=r.find("a"),l;function s(e,l){var s=n.find("li.active"),o=r.find("a.selected"),d=!isNaN(e)?e:s.index()+1==a?0:s.index()+1,u;s.removeClass("active").stop().fadeTo(1500,0);u=t.eq(d);u.stop().fadeTo(1200,1).addClass("active");o.removeClass("selected");i.eq(d).addClass("selected");if(l)l()}l=setInterval(function(){s()},5e3);r.delegate("a","click",function(n){n.preventDefault();n.stopImmediatePropagation();clearInterval(l);s(e(this).data("slide"),function(){l=setInterval(function(){s()},5e3)})})},updateWindow:function(n){var t=e(".home-slider").children("ul"),a=e(".slider-num");t.html(this.getItemForBanner(bannerObj));a.html(this.getItemForNum(bannerObj));n()},getItemForBanner:function(n){var t=e("#banner-tmpl").html();var a=Handlebars.compile(t);return a(n)},getItemForNum:function(n){Handlebars.registerHelper("isEqual",function(e,n,t){if(e==n)return t.fn(this);else return t.inverse(this)});var t=e("#num-tmpl").html();var a=Handlebars.compile(t);for(var r in n){n[r]["position"]=r}return a(n)}};module.exports=n});